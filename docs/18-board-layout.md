# 18. 보드 레이아웃(카드 배치)

## 1) 정의의 기준
**10x10 게임 보드의 카드 배치는 고정**이며, **01. 게임 규칙(01-game-rules.md)** 문서의 **§3 셋업 - 게임 보드(10x10)** 에 있는 `boardImages` 배열이 **유일한 기준**이다.  
이 형태로 보드가 고정되어야 하며, 레이아웃을 별도로 “생성”하거나 셔플하지 않는다.

- **cellId**: 배열 인덱스 = **row × 10 + col** (0..99, row-major)
- **코너**: cellId **0, 9, 90, 99** (각각 코너 카드 1, 2, 3, 4)
- 잭 제외 48종 카드가 **각 2번씩** + 코너 카드 4장 = 100칸

## 2) 01 문서와의 대응
- **출처**: [01-game-rules.md](./01-game-rules.md) §3 셋업 - `const boardImages = [ ... ]`
- `boardImages[i]` = cellId **i**에 배치되는 카드의 정의. **상수 JSON 파일의 내용은 이 boardImages와 동일한 구성을 가져야 한다.**

## 3) 카드 셋
- 표준 52장 중 잭 4장 제외 = 48종
- 48종 × 2장 + 코너 4장 = 100칸(01 문서의 배열 길이와 동일)

## 4) 구현: 상수 JSON 사용
- 보드 레이아웃은 **클라이언트 코드에서 정의하지 않고**, **상수 JSON 파일**로 둔다.
- 그 **JSON 파일의 내용**은 **01-game-rules.md의 boardImages에 정의된 배치**와 동일하게 구성한다(배열 인덱스 = cellId, 각 요소 = 해당 칸의 **카드 ID**. 카드 ID 규격·이미지 경로는 05-data-model-erd §5 참조).
- 예: `public/board-layout.json` 또는 `src/domain/board/board-layout.v1.json` 같은 정적 JSON을 두고, 클라이언트는 이 파일을 읽어서만 사용한다.
- 레이아웃을 코드 상수/하드코딩으로 두지 않는다.

## 5) 카드 이미지 렌더링 규칙
- 보드의 각 칸(100개)은 `public/cards/` 디렉터리 내 **WebP 이미지**를 사용해 렌더링한다.
- 카드 이미지 파일명 규격은 **05-data-model-erd §5**의 카드 ID 체계를 따른다(예: `AS.webp`, `KH.webp`).
- **각 카드 `<div>`는 배경 색상을 두지 않으며**, 카드 이미지가 칸 영역에 꽉 차도록(`object-fit: cover` 또는 이미지 자체가 칸 크기에 맞게) 표시한다.
  - `background-color` / Tailwind 배경 유틸리티(`bg-*`)를 카드 칸에 적용하지 않는다.
  - 이미지가 로드되기 전 빈 영역이 노출되지 않도록 칸 크기를 이미지 비율에 맞게 고정한다.
- 코너 칸(cellId 0, 9, 90, 99)도 동일하게 해당 코너 카드 이미지를 사용한다.

## 6) 카드 선택 시 놓을 수 있는 위치 활성화
플레이어가 **자신의 턴**에 손패에서 카드를 선택하면, 보드에서 해당 카드를 **놓을 수 있는 칸이 시각적으로 활성화**된다.

### 활성화 대상 칸
| 선택 카드 종류 | 활성화 대상 |
|---|---|
| 일반 카드 | 보드 위 해당 카드에 대응하는 칸 중 **아직 칩이 없는 빈 칸** |
| Two-eyed Jack(J♣, J♦) | 보드 위 **모든 빈 칸**(코너 포함) |
| One-eyed Jack(J♥, J♠) | 보드 위 **상대 팀 칩이 놓인 칸** 중 완성된 시퀀스에 포함되지 않은 칸 |
| 데드 카드 | 활성화 없음(선택 불가 상태 유지) |

### UI 처리 방식
- 활성화된 칸은 **hover 시 명확한 시각적 피드백**(예: 테두리 강조, 오버레이 등)을 제공한다.
- 활성화되지 않은 칸은 클릭 이벤트를 받지 않는다(또는 클릭해도 아무 동작 없음).
- 카드 선택을 취소하면 활성화 상태를 즉시 해제한다.
- **내 턴이 아닐 때**는 카드 선택 자체가 불가하므로 칸 활성화도 발생하지 않는다.

## 7) DoD 체크리스트
- [x] 보드 레이아웃은 **상수 JSON 파일**로만 제공되며, 클라이언트 코드에서 배열/객체로 정의하지 않는다
- [x] 해당 JSON의 **내용**이 **01-game-rules.md의 boardImages**와 완전히 일치한다
- [x] 보드에 잭이 등장하지 않는다
- [x] cellId 0..99 = row×10+col, 코너는 0, 9, 90, 99
- [x] 레이아웃 JSON은 DB에 저장하지 않는다(정적 파일)
- [x] 각 칸은 `public/cards/webp/` WebP 이미지를 사용하며, 카드 `<div>`에 배경 색상이 없다
- [x] 카드 이미지가 칸 크기에 꽉 차도록 렌더링된다(`object-cover`)
- [x] 내 턴에 손패 카드를 선택하면 놓을 수 있는 칸이 시각적으로 활성화된다
- [x] 활성화 규칙은 카드 종류(일반/2-eye/1-eye/데드)에 따라 올바르게 분기된다
